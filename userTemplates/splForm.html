{% load static %}

<div class="shadow-lg rounded-3 p-4 bg-white" style="margin-bottom: 1rem;">
  <!-- Header aligned with the form table -->
  <h1 class="display-5 fw-bold text-primary mb-2 adminFormHeader">
    <i class="bi bi-truck me-2"></i>SUPPLIER UPDATE FORM
  </h1>

  <!-- Form with shadow and rounded corners -->
  <form method="POST" autocomplete="off" class="p-0">{% csrf_token %}
    <table id="supplierForm" class="table table-bordered table-hover mb-0" style="width: 100%; table-layout: fixed; border-collapse: collapse;">
      <thead>
      <tr class="table-primary">
        <th class="adminTableTh" style="width: 25%;">ID</th>
        <th class="adminTableTh" style="width: 25%;">SUPPLIER</th>
        <th class="adminTableTh" style="width: 25%;">PASSWORD</th>
        <th class="adminTableTh" style="width: 25%;">ACTION</th>
      </tr>
      </thead>
      
      <tbody>
      <tr>
        <td class="adminTableTd">
          <input class="form-control form-control-sm" type="text" id="id_supplierID" name="supplierID" placeholder="Set a new ID/target ID">
        </td>
        <td class="adminTableTd">
          <input class="form-control form-control-sm" type="text" id="id_supplierName" name="supplierName" placeholder="Set supplier name">
        </td>
        <td class="adminTableTd">
          <input class="form-control form-control-sm" type="text" id="id_supplierPwd" name="supplierPwd" placeholder="Set password">
        </td>
        <td class="adminTableTd">
          <div class="d-flex flex-row justify-content-around">
            <button class="btn btn-primary btn-sm" type="submit" style="height: 1cm;" id="id_saveSpl" name="saveSupplier" onclick="saveSupplier()">Save/Update</button>
            <button class="btn btn-danger btn-sm" type="submit" style="height: 1cm;" id="id_deleteSpl" name="deleteSupplier" onclick="deleteSupplier()">Delete</button>  
          </div>
        </td>
      </tr>

      {% if supplierForm.supplierPwd.errors %}
      <tr>
        <td colspan="4" class="adminWarningFont">
          {{ supplierForm.supplierPwd.errors|striptags }}
        </td>
      </tr>
      {% endif %}
      {% if supplierForm.supplierName.errors %}
      <tr>
        <td colspan="4" class="adminWarningFont">
          {{ supplierForm.supplierName.errors|striptags }}
        </td>
      </tr>
      {% endif %}
      <tr>
        {% for error in supplierForm.non_field_errors %}
          <td colspan="4" class="adminWarningFont">{{ error }}</td>
        {% endfor %}                    
      </tr>
      </tbody>
    </table>
  </form>
</div>

<!-- Import JS Scripts -->
<script src="{% static 'js/supplierFunctions.js' %}" defer></script>

<style>
  .adminTableTh, .adminTableTd {
    vertical-align: middle;
    text-align: center;
  }
  .adminWarningFont {
    color: #cd2525;
    font-size: 0.9rem;
  }
  .form-control, .form-select {
    border-radius: 0.375rem;
    transition: border-color 0.3s;
  }
  .form-control:focus, .form-select:focus {
    border-color: #3498db;
    box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
  }
  .btn:hover {
    transform: scale(1.05);
    transition: transform 0.2s;
  }
  .table-hover tbody tr:hover {
    background-color: #d1ecf1;
  }
</style>